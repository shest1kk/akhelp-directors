import React, { useState, useEffect } from "react";
import './StartPage.css';
import { useTelegram } from "../../../hooks/useTelegram";
import Button from "../../Buttons/Button";

const StartPage = () => {
    const { user } = useTelegram();
    const [showModal, setShowModal] = useState(true);
    const [showButtons, setShowButtons] = useState(false);
    const [selectedTool, setSelectedTool] = useState(null);
    const [currentStep, setCurrentStep] = useState(0);

    const closeModal = () => {
        setShowModal(false);
        setTimeout(() => setShowButtons(true), 300);
    };

    const handleOutsideClick = (e) => {
        if (e.target.className === 'modal') {
            closeModal();
        }
    };

    const buttons = [
        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },

        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },
        
        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },

        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },

        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },

        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },

        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },

        { name: "–ü–µ—Ä–µ–µ–∑–¥", texts: [
            { title: "–°–ø—Ä–æ—Å–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–í –∫–∞–∫–æ–π –≥–æ—Ä–æ–¥?\n–ï—Å—Ç—å –ª–∏ —Ç–∞–º —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã KFC?\n–•–æ—Ç–µ–ª –±—ã —Ç—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤ KFC?' },
            { title: "–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", content: '–ü—Ä–µ–¥–ª–æ–∂–∏ –ø–µ—Ä–µ–≤–æ–¥ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω ROSTICS –≤ —ç—Ç–æ–º –≥–æ—Ä–æ–¥–µ/—Ä–µ—Å—Ç–æ—Ä–∞–Ω –¥—Ä—É–≥–æ–π —Ñ—Ä–∞–Ω—à–∏–∑—ã.\n–ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º HRM (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞)'},
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞", content: '–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç—ã/—Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.\n–ó–Ω–∞–∫–æ–º–∞—è —Ä–∞–±–æ—Ç–∞ (–Ω–µ –±—É–¥–µ—Ç —Å—Ç—Ä–µ—Å—Å–∞ –Ω–∞—á–∏–Ω–∞—Ç—å —Å "0")' },
            { title: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", content: "–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã–±—ã—Ç–∏—è.\n–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –∫ –±—Ä–µ–Ω–¥—É." }
        ], buttonTexts: ["–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫?", "–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç —Ç–≤–æ–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω?", "–ó–∞–∫—Ä—ã—Ç—å"] },
    ];

    const handleButtonClick = (index) => {
        setSelectedTool(buttons[index]);
        setCurrentStep(0);
        setShowButtons(false);
    };

    const handleNextStep = () => {
        if (currentStep < selectedTool.texts.length - 1) {
            setCurrentStep(currentStep + 1);
        } else {
            setSelectedTool(null);
            setShowButtons(true);
        }
    };

    const formatContent = (content) => {
        return content.split('\n').map((line, index) => (
            <React.Fragment key={index}>
                {line}
                <br />
            </React.Fragment>
        ));
    };

    return (
        <div className="StartPage_wrapper">
            {showModal && (
                <div className="modal" onClick={handleOutsideClick}>
                    <div className="modal-content">
                        <h2>–ü—Ä–∏–≤–µ—Ç, {user?.first_name}üëãüèª</h2>
                        <p>–Ø —Ç–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫, –∑–¥–µ—Å—å —Ç—ã —Å–º–æ–∂–µ—à—å –Ω–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–≤–æ–µ–π –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ–π —Ä–∞–±–æ—Ç—ã!</p>
                        <button onClick={closeModal}>–ó–∞–∫—Ä—ã—Ç—å</button>
                    </div>
                </div>
            )}
            {showButtons && (
                <div className="buttons-section">
                    <h3 className="buttons-title">–ü–æ –∫–∞–∫–æ–π –ø—Ä–∏—á–∏–Ω–µ —Ç–≤–æ–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Ö–æ—á–µ—Ç —É–≤–æ–ª–∏—Ç—å—Å—è?</h3>
                    <div className="buttons-container">
                        {buttons.map((button, index) => (
                            <Button 
                                key={index} 
                                className="tool-button"
                                onClick={() => handleButtonClick(index)}
                            >
                                {button.name}
                            </Button>
                        ))}
                    </div>
                </div>
            )}
            {selectedTool && (
                <div className="modal">
                    <div className="modal-content">
                        <h3>{selectedTool.texts[currentStep].title}</h3>
                        <p>{formatContent(selectedTool.texts[currentStep].content)}</p>
                        <button onClick={handleNextStep}>
                            {selectedTool.buttonTexts[currentStep]}
                        </button>
                    </div>
                </div>
            )}
        </div>
    );
};

export default StartPage;